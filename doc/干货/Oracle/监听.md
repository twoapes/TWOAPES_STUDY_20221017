# 监听

## 单机

```sql
jdbc.url=jdbc:oracle:thin:@127.0.0.1:1521:orcl
```

## 集群

```sql
1.jdbc.url=jdbc:oracle:thin:@127.0.0.1:1521/orcl
2.jdbc.url=jdbc:oracle:thin:@(DESCRIPTION =(ADDRESS = (PROTOCOL = TCP)
                            (HOST =主机ip或主机名)(PORT = 端口号))(ADDRESS = (PROTOCOL = TCP)
                            (HOST =主机ip或主机名)(PORT = 端口号))(FAILOVER=ON)(CONNECT_DATA =(SERVER = DEDICATED)(SERVICE_NAME = 服务名)
                            (FAILOVER_MODE =(TYPE = SELECT)(METHOD = BASIC)(RETRIES = 180)(DELAY = 5))))

--通过JNDI来连接
--一定不能有换行空格,否则会报找不到 host
Context ctx=new InitialContext();
ctx.lookup(SysConstant.JDBC_JNDI);
 --集群
 --监听名称
 别名 =
     (DESCRIPTION =
         (ADDRESS = (PROTOCOL = TCP)(HOST =主机ip或主机名)(PORT = 端口号))
         (ADDRESS = (PROTOCOL = TCP)(HOST =主机ip或主机名)(PORT = 端口号))
         (FAILOVER=ON)
         (CONNECT_DATA =
             (SERVER = DEDICATED)
             (SERVICE_NAME = 服务名)
             (FAILOVER_MODE =(TYPE = SELECT)
             (METHOD = BASIC)
             (RETRIES = 180)
             (DELAY = 5)
        )
    )
```
