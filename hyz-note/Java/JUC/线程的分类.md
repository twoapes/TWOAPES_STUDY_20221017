# 线程的分类

线程可以分为两种主要的类型：用户线程和守护线程。

1. 用户线程（User Thread）：用户线程是默认的线程类型，它不会影响程序的结束。当所有的用户线程都执行完毕时，即使守护线程仍在运行，程序也会结束。用户线程通常用于执行应用程序的核心逻辑。

2. 守护线程（Daemon Thread）：守护线程是在后台运行的线程，用于为其他线程提供服务和支持。当只剩下守护线程时，JVM会自动退出，不会等待守护线程执行完毕。典型的守护线程包括垃圾回收线程和后台任务调度线程。

下面是一个简单的示例，演示用户线程和守护线程的概念：

```java
public class ThreadTypeDemo {
    public static void main(String[] args) {
        Thread userThread = new Thread(new Worker());
        Thread daemonThread = new Thread(new DaemonWorker());

        daemonThread.setDaemon(true); // 将线程设置为守护线程

        userThread.start();
        daemonThread.start();

        try {
            Thread.sleep(2000); // 让主线程休眠2秒，以便观察线程的执行
        } catch (InterruptedException e) {
            e.printStackTrace();
        }

        System.out.println("Main thread finished");
    }

    static class Worker implements Runnable {
        @Override
        public void run() {
            try {
                Thread.sleep(1000); // 用户线程休眠1秒
                System.out.println("User thread finished");
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }

    static class DaemonWorker implements Runnable {
        @Override
        public void run() {
            try {
                Thread.sleep(1500); // 守护线程休眠1.5秒
                System.out.println("Daemon thread finished");
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }
}
```

在上述示例中，我们创建了一个用户线程`userThread`和一个守护线程`daemonThread`。使用`setDaemon(true)`方法将`daemonThread`设置为守护线程。

然后我们启动这两个线程，主线程休眠2秒钟以观察线程的执行。

在`Worker`和`DaemonWorker`类中，我们分别定义了用户线程和守护线程的执行逻辑。它们分别休眠1秒和1.5秒，然后输出相应的完成信息。

当主线程结束时，即使用户线程还未执行完毕，守护线程也会被中断并结束。因此，当主线程输出"Main thread finished"后，守护线程的执行就被中断了。

通过运行示例，可以观察到用户线程和守护线程的不同行为。用户线程会执行完整个逻辑，而守护线程会在主线程结束后被中断。
