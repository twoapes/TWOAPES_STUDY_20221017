# Java反射机制

Java的反射机制是指在运行时动态地获取和操作类、对象、方法和属性的能力。它提供了一种在编译时无法确定的类结构和对象的信息的访问方式。通过反射，可以在运行时检查类的成员、调用方法、访问和修改字段的值，甚至可以创建新的对象实例。

Java反射机制的核心类是`java.lang.Class`，它代表了Java中的一个类或接口。通过`Class`类，可以获取类的构造函数、方法、字段等信息，并进行相应的操作。

使用反射机制可以实现以下功能：

1. 获取类的信息：可以通过反射获取类的名称、父类、实现的接口、构造函数、方法和字段等信息。

2. 创建对象：通过反射可以在运行时创建一个类的对象实例，即使在编译时无法确定具体的类名。

3. 调用方法：可以通过反射调用一个对象的方法，包括公共方法、私有方法、静态方法等。

4. 访问和修改字段：可以使用反射获取和修改一个对象的字段的值，包括公共字段和私有字段。

5. 动态代理：反射机制可以用于创建动态代理对象，从而实现在运行时动态地生成代理类并拦截方法调用。

需要注意的是，尽管反射机制为Java提供了灵活性和动态性，但它也具有一定的性能开销。由于反射涉及到在运行时进行类的检查和方法调用，因此比直接调用方法或访问字段要慢。此外，使用反射机制的代码也会较复杂，不易于理解和维护。因此，在使用反射时需要权衡其带来的便利性和性能损耗，并谨慎使用。

- Reflection（反射）是被视为动态语言的关键，反射机制允许程序在执行期借助于Reflection API取得任何类的内部信息，并能直接操作任意对象的内部属性及方法

- 加载完类之后，在堆内存的方法区中就产生了一个Class类型的对象（一个类只有一个Class对象），这个对象就包含了完整的类的结构信息

- 我们可以通过这个对象看到类的结构

- 这个对象就像一面镜子，透过这个镜子看到类的结构，所以，我们形象的称之为：反射

补充：动态语言 vs 静态语言

1、动态语言
是一类在运行时可以改变其结构的语言：例如新的函数、对象、甚至代码可以被引进，已有的函数可以被删除或是其他结构上的变化

通俗点说就是在运行时代码可以根据某些条件改变自身结构。
主要动态语言：Object-C、C#、JavaScript、PHP、Python、Erlang
2、静态语言
与动态语言相对应的，运行时结构不可变的语言就是静态语言。如Java、C、C++
Java不是动态语言，但Java可以称之为“准动态语言”

即Java有一定的动态性，我们可以利用反射机制、字节码操作获得类似动态语言的特性
Java的动态性让编程的时候更加灵活

Java反射机制研究及应用

Java反射机制提供的功能

- 在运行时判断任意一个对象所属的类

- 在运行时构造任意一个类的对象

- 在运行时判断任意一个类所具有的成员变量和方法

- 在运行时获取泛型信息

- 在运行时调用任意一个对象的成员变量和方法

- 在运行时处理注解

- 生成动态代理

```txt
java.lang.Class:代表一个类
java.lang.reflect.Method:代表类的方法
java.lang.reflect.Field:代表类的成员变量
java.lang.reflect.Constructor:代表类的构造器
... ...
```
