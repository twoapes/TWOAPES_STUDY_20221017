# 锁

释放锁的操作

- 当前线程的同步方法、同步代码块执行结束

- 当前线程在同步代码块、同步方法中遇到break、return终止了该代码块、该方法的继续执行

- 当前线程在同步代码块、同步方法中出现了未处理的Error或Exception，导致异常结束

- 当前线程在同步代码块、同步方法中执行了线程对象的wait()方法，当前线程暂停，并释放锁
不会释放锁的操作

- 线程执行同步代码块或同步方法时，程序调用Thread.sleep()、Thread.yield()方法暂停当前线程的执行

- 线程执行同步代码块时，其他线程调用了该线程的suspend()方法将该线程挂起，该线程不会释放锁（同步监视器）

- 应尽量避免使用suspend()和resume()来控制线程

死锁

- 不同的线程分别占用对方需要的同步资源不放弃，都在等待对方放弃自己需要的同步资源，就形成了线程的死锁

- 出现死锁后，不会出现异常，不会出现提示，只是所有的线程都处于阻塞状态，无法继续

解决方法

- 专门的算法、原则

- 尽量减少同步资源的定义

- 尽量避免嵌套同步
