# 线程的调度

- 时间片

![1689489662077](https://twoapes.oss-cn-shenzhen.aliyuncs.com/image/1689489662077.jpg)

- 抢占式

  高优先级的线程抢占CPU

- Java的调度方法

  同优先级线程组成先进先出队列（先到先服务），使用时间片策略对高优先级，使用优先调度的抢占式策略

以下是使用Java实现线程调度的详细步骤：

1. 创建一个实现Runnable接口的任务类。这个任务类将定义线程要执行的具体任务逻辑。例如，可以创建一个名为"Task"的类，并实现Runnable接口，其中定义一个run()方法。

```java
public class Task implements Runnable {
    public void run() {
        // 线程要执行的任务逻辑
    }
}
```

2.在主程序中创建线程池。可以使用Java提供的Executor框架来创建线程池。使用Executors类的静态方法之一创建合适的线程池对象，例如FixedThreadPool，CachedThreadPool等。

```java
ExecutorService executor = Executors.newFixedThreadPool(5);
```

3.创建任务实例，并将其提交给线程池。可以使用execute()方法提交任务，该方法接受一个Runnable对象。

```java
Runnable task = new Task();
executor.execute(task);
```

4.线程池将会为提交的任务创建一个线程，并执行任务的run()方法。可以多次提交任务，线程池将会自动管理线程的创建和调度。

```java
for (int i = 0; i < 10; i++) {
    executor.execute(task);
}
```

5.关闭线程池。在所有任务执行完成后，应该关闭线程池以释放资源。可以调用ExecutorService的shutdown()方法来关闭线程池。

  ```java
executor.shutdown();
```
