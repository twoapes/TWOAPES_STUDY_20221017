# 自然排序

- 自然排序

  TreeSet 会调用集合元素的compareTo(Object obj) 方法来比较元素之间的大小关系，然后将集合元素按升序(默认情况)排列

- 如果试图把一个对象添加到 TreeSet 时，则该对象的类必须实现 Comparable接口

- 实现 Comparable 的类必须实现 compareTo(Object obj) 方法，两个对象即通过
compareTo(Object obj) 方法的返回值来比较大小

Comparable 的典型实现

- BigDecimal、BigInteger 以及所有的数值型对应的包装类

  按它们对应的数值大小进行比较

- Character

  按字符的 unicode值来进行比较

- Boolean

  true 对应的包装类实例大于 false 对应的包装类实例

- String

  按字符串中字符的 unicode 值进行比较

- Date、Time

  后边的时间、日期比前面的时间、日期大

向 TreeSet 中添加元素时，只有第一个元素无须比较compareTo()方法，后面添加的所有元素都会调用compareTo()方法进行比较
因为只有相同类的两个实例才会比较大小，所以向 TreeSet 中添加的应该是同一个类的对象
对于 TreeSet 集合而言，它判断两个对象是否相等的唯一标准是

  两个对象通过 compareTo(Object obj) 方法比较返回值

当需要把一个对象放入 TreeSet 中，重写该对象对应的 equals() 方法时，应保证该方法与 compareTo(Object obj) 方法有一致的结果

  如果两个对象通过equals() 方法比较返回 true，则通过 compareTo(Object obj) 方法比较应返回 0

  否则，让人难以理解

下面是一个使用TreeSet实现自然排序的详细示例代码：

```java
import java.util.TreeSet;

public class TreeSetDemo {
    public static void main(String[] args) {
        // 创建一个TreeSet实例
        TreeSet<Integer> set = new TreeSet<>();

        // 添加元素到TreeSet
        set.add(5);
        set.add(2);
        set.add(8);
        set.add(1);
        set.add(3);

        System.out.println("TreeSet的大小: " + set.size()); // 输出：5

        // 遍历TreeSet
        System.out.println("TreeSet的元素:");
        for (Integer element : set) {
            System.out.println(element);
        }

        // 判断元素是否存在于TreeSet中
        System.out.println("TreeSet中是否包含8: " + set.contains(8)); // 输出：true

        // 从TreeSet中删除元素
        set.remove(2);
        System.out.println("TreeSet的大小: " + set.size()); // 输出：4

        // 清空TreeSet
        set.clear();
        System.out.println("TreeSet是否为空: " + set.isEmpty()); // 输出：true
    }
}
```

以上代码创建了一个TreeSet实例，并演示了使用自然排序的功能。首先，通过add()方法添加元素到TreeSet，TreeSet会根据元素的自然顺序进行排序。然后，通过size()方法获取TreeSet的大小，使用增强型for循环遍历TreeSet中的元素，并使用contains()方法判断元素是否存在于TreeSet中。接下来，通过remove()方法删除TreeSet中的元素，并再次使用size()方法验证大小的变化。最后，通过clear()方法清空TreeSet，并使用isEmpty()方法判断TreeSet是否为空。

运行上述代码，将会输出以下结果：

```shell
TreeSet的大小: 5
TreeSet的元素:
1
2
3
5
8
TreeSet中是否包含8: true
TreeSet的大小: 4
TreeSet是否为空: true
```

可以看到，TreeSet会根据元素的自然顺序进行排序，并且保持有序状态。其他的操作方法与HashSet和LinkedHashSet类似，可以根据需要进行添加、删除和查找操作。
