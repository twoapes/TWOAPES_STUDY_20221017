# 三大特性

Java的三大特性是封装、继承和多态。下面我将为你提供每个特性的详细示例：

## 封装(Encapsulation)

把该隐藏的隐藏起来，该暴露的暴露出来,这就是封装性的设计思想

使用private修饰符将数据域声明为私有的,这称为**数据域封装**(data field encapsulation)
getter方法称为**访问器**(accessor)
setter方法称为**修改器**(mutator)

封装是将数据和操作数据的方法包装在一起的机制，以防止对数据的直接访问。在Java中，封装通过类来实现，类将数据声明为私有（private），并提供公共的访问方法（getter和setter）来控制对数据的访问。

```java
public class Person {
    private String name;
    private int age;

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        if (age >= 0) {
            this.age = age;
        } else {
            throw new IllegalArgumentException("Age cannot be negative.");
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Person person = new Person();
        person.setName("John");
        person.setAge(25);

        System.out.println("Name: " + person.getName());
        System.out.println("Age: " + person.getAge());
    }
}
```

在上面的示例中，`Person`类封装了`name`和`age`字段，并提供了`getName()`和`setName()`方法来访问和修改`name`字段，以及`getAge()`和`setAge()`方法来访问和修改`age`字段。这样做的好处是可以对数据的读写进行控制，确保数据的有效性和一致性。

## 继承 (Inheritance)

多个类中存在相同属性和行为时，将这些内容抽取到单独一个类中，那么多个类无需再定义这些属性和行为，只要继承那个类即可

此处的多个类称为子类(派生类)，单独的这个类称为父类(基类或超类)

```txt
class Subclass extends SuperClass{
}
```

作用

- 继承的出现减少了代码冗余，提高了代码的复用性

- 继承的出现，更有利于功能的扩

- 继承的出现让类与类之间产生了关系，提供了多态的前提

关于继承的规则

- 子类不能直接访问父类中私有的(private)的成员变量和方法

- Java只支持单继承和多层继承，不允许多重继承

不要仅为了获取其他类中某个功能而去继承
子类继承了父类，就继承了父类的方法和属性
在子类中，可以使用父类中定义的方法和属性，也可以创建新的数据和方法
继承的关键字用的是“extends”，即子类不是父类的子集，而是对父类的“扩展”

继承是指一个类可以派生出另一个类，派生类会继承父类的属性和方法。在Java中，使用关键字`extends`来实现继承。

```java
public class Animal {
    protected String name;

    public void setName(String name) {
        this.name = name;
    }

    public void eat() {
        System.out.println(name + " is eating.");
    }
}

public class Cat extends Animal {
    public void meow() {
        System.out.println(name + " is meowing.");
    }
}

public class Main {
    public static void main(String[] args) {
        Cat cat = new Cat();
        cat.setName("Tom");
        cat.eat();
        cat.meow();
    }
}
```

在上面的示例中，`Animal`类定义了一个`name`字段和一个`eat()`方法，而`Cat`类继承了`Animal`类，并添加了一个额外的`meow()`方法。通过继承，`Cat`类可以使用`Animal`类中的字段和方法，并且还可以添加自己特定的行为。

## 多态 (Polymorphism)

java引用变量有两个类型:**编译时类型**和**运行时类型**

编译时类型由声明该变量时使用的类型决定

运行时类型由实际赋给该变量的对象决定

若编译时类型和运行时类型不一致，就出现了**对象的多态性**(Polymorphism)

简称：编译时，看左边；运行时，看右边

- 看左边

看的是父类的引用（父类中不具备子类特有的方法）

- 看右边

看的是子类的对象（实际运行的是子类重写父类的方法）

```txt
在Java中,子类的对象可以替代父类的对象使用
一个变量只能有一种确定的数据类型 
一个引用类型变量可能指向(引用)多种不同类型的对象 
子类可看做是特殊的父类，所以父类类型的引用可以指向子类的对象：向上转型(upcasting)。 
一个引用类型变量如果声明为父类的类型，但实际引用的是子类对象，那么该变量就不能再访问子类中添加的属性和方法 
方法声明的形参类型为父类类型，可以使用子类的对象作为实参调用该方法 
```

多态是指对象在不同的情况下表现出不同的行为。在Java中，多态性通过方法重写（Override）和方法重载（Overload）来实现。

```java
public class Animal {
    public void makeSound() {
        System.out.println("The animal makes a sound.");
    }
}

public class Cat extends Animal {
    @Override
    public void makeSound() {
        System.out.println("The cat meows.");
    }
}

public class Dog extends Animal {
    @Override
    public void makeSound() {
        System.out.println("The dog barks.");
    }
}

public class Main {
    public static void main(String[] args) {
        Animal animal1 = new Cat();
        Animal animal2 = new Dog();

        animal1.makeSound(); // 输出：The cat meows.
        animal2.makeSound(); // 输出：The dog barks.
    }
}
```

在上面的示例中，`Animal`类定义了一个`makeSound()`方法，而`Cat`和`Dog`类分别继承了`Animal`类并重写了`makeSound()`方法。在`Main`类的`main()`方法中，我们创建了一个`Cat`对象和一个`Dog`对象，但是将它们都声明为`Animal`类型的变量。这就是多态性的体现，通过使用父类的引用变量来引用子类的对象，我们可以在运行时根据实际对象的类型来调用相应的方法。

在运行时，`animal1.makeSound()`调用了`Cat`类中重写的`makeSound()`方法，输出了"The cat meows."；而`animal2.makeSound()`调用了`Dog`类中重写的`makeSound()`方法，输出了"The dog barks."。尽管调用的是相同的方法名，但实际执行的是不同类中的具体实现，这就是多态的一种体现。

通过封装、继承和多态，Java提供了一种强大的面向对象编程的能力，能够增强代码的可重用性、扩展性和灵活性。

## 虚拟方法调用(Virtual Method Invocation)

多态情况下,子类中定义了与父类同名同参数的方法，在多态情况下，将此时父类的方法称为虚拟方法，父类根据赋给它的不同子类对象，动态调用属于子类的该方法,这样的方法调用在编译期是无法确定的

```txt
多态作用
提高了代码的通用性，常称作接口重用 

前提
需要存在继承或者实现关系 
有方法的重写 

成员方法
编译时：要查看引用变量所声明的类中是否有所调用的方法 
运行时：调用实际new的对象所属的类中的重写方法

成员变量
不具备多态性，只看引用变量所声明的类 
```
